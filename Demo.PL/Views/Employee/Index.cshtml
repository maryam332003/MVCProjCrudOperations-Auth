

@model IEnumerable<EmployeeViewModel>

@{
    ViewData["Title"] = "All Employees";
  //  string ViewDataMessage = ViewData["Message"] as string; //Required type conversion
   // string ViewBagMessage = ViewBag.Message; // Not Required type Conversion
}


<h1>All Employees</h1>
<br />


@if (TempData["Message"] != null)
{


    <div class="alert alert-primary">
        <p>@TempData["Message"]</p>
    </div>

}



<div class=" justify-content-center align-items-center w-100 my-2">

    <form asp-action="Index" class="row  w-100 d-flex">
        <div class="w-75">
            <input type="text" name="SearchInput" id="SearchInput" class="form-control mx-3" placeholder="-- Search --" />
        </div>

        <div class="">
            <input type="submit" value="Search" class="btn btn-success  mx-4" />
        </div>
    </form>

</div>



<a asp-controller="Employee" asp-action="Create" class="btn btn-primary"> Create Employee  </a>
<br />
<br />




@if (Model.Count() > 0)
{

    <table class="table table-striped table-hover table-bordered text-center">

        <thead>

            <tr>
                <th> @Html.DisplayNameFor(E => E.Image) </th>

                <th> @Html.DisplayNameFor(E => E.Name) </th>

                <th> @Html.DisplayNameFor(E => E.Age) </th>
                <th> @Html.DisplayNameFor(E => E.Salary) </th>
                <th> @Html.DisplayNameFor(E => E.Department) </th>
                <th> @Html.DisplayNameFor(E => E.Address) </th>
                <th> @Html.DisplayNameFor(E => E.Email) </th>
                <th> @Html.DisplayNameFor(E => E.PhoneNumber) </th>
                <th> @Html.DisplayNameFor(E => E.HireDate) </th>

                <th> Details </th>

                <th> Update </th>

                <th> Delete </th>

            </tr>

        </thead>


        <tbody>

            @foreach (var employee in Model)
            {
                <tr>


                    <td>
                        <img src="~/files/images/@employee.ImageName" width="75" class="img-fluid rounded-circle" />
                    </td>

                    <td>@employee.Name</td>
                    <td>@employee.Age</td>
                    <td>@employee.Salary</td>
                    <td>@employee?.Department?.Name</td>

                    <td>@employee.Address</td>
                    <td>@employee.Email</td>
                    <td>@employee.PhoneNumber</td>
                    <td>@employee.HireDate</td>

                   <partial name="_ButtonPartialView" model="employee.Id.ToString()"></partial>

                </tr>
            }

        </tbody>

    </table>

}

else
{

    <div class=" mt-4 alert alert-danger">

        <h3> There Is No Employees Here :( </h3>
    </div>


}